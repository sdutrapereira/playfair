{"version":2,"kind":"Notebook","sha256":"9f91d536d07962b8880d7cdfb85f25cef6f8a0bb808eee868eb8e5623c054663","slug":"first-plotting","location":"/The first line chart/First_plotting.ipynb","dependencies":[],"frontmatter":{"title":"First Plotting","content_includes_title":false,"kernelspec":{"name":"python3","display_name":"Python 3 (ipykernel)","language":"python"},"authors":[{"id":"Suellen Dutra Pereira","name":"Suellen Dutra Pereira"}],"github":"https://github.com/sdutrapereira/playfair","keywords":["data analysis","data visuaisation","Playfair","digital history"],"numbering":{"title":{"offset":1}},"thumbnail":"/221719f89ea8b8c01c95820322621d82.jpeg","thumbnailOptimized":"/221719f89ea8b8c01c95820322621d82.webp","exports":[{"format":"ipynb","filename":"First_plotting.ipynb","url":"/First_plotting-a7a7b0508d14f9032d313e3a4224538a.ipynb"}]},"widgets":{},"mdast":{"type":"root","children":[{"type":"block","kind":"notebook-content","children":[{"type":"container","kind":"figure","children":[{"type":"image","url":"/221719f89ea8b8c01c95820322621d82.jpeg","alt":"Chart of all imports and exports to and from England Playfair’s Atlas 1786.","data":{"altTextIsAutoGenerated":true},"key":"CAYZbvysn0","urlSource":"https://gallica.bnf.fr/ark:/12148/bpt6k1504263t/f26.highres","urlOptimized":"/221719f89ea8b8c01c95820322621d82.webp"},{"type":"caption","children":[{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"captionNumber","kind":"figure","label":"fig:chart England","identifier":"fig:chart england","html_id":"fig-chart-england","enumerator":"1","children":[{"type":"text","value":"Figure ","key":"x21xLMdNMH"},{"type":"text","value":"1","key":"rduOTa281Z"},{"type":"text","value":":","key":"AF06kdPc2Y"}],"template":"Figure %s:","key":"NK7dl8ENn8"},{"type":"text","value":"Chart of all imports and exports to and from England Playfair’s Atlas 1786.","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"ttsIzEKa53"}],"key":"dEK95wpPDK"}],"key":"RG08OipNoF"}],"label":"fig:chart England","identifier":"fig:chart england","enumerator":"1","html_id":"fig-chart-england","key":"R3Up8m0Tjy"}],"key":"ykDgslU10b"},{"type":"block","kind":"notebook-code","data":{"scrolled":true},"children":[{"type":"code","lang":"python","executable":true,"value":"import pandas as pd\nimport numpy as np\nimport matplotlib.pyplot as plt","key":"YxZp3RdgRw"},{"type":"output","id":"z8y9vWSLiYnXcDPIPIvJ-","data":[],"key":"OsfiqV6yER"}],"key":"MLhcRFc4D4"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"data = {\n    'Year': ['1700', '1710', '1720', '1730', '1740', '1750', '1760', '1770', '1771', '1772', '1773', '1774', '1775', '1776', '1777', '1778', '1779', '1780', '1781', '1782', '1783', '1784', '1785'],\n    'Imports': [4.5, 4.85, 5.35, 8.5, 8.5, 8.2, 10.2, 11.7, 12.7, 13.25, 11.3, 13.3, 13.6, 11.5, 11.85, 10.2, 10.6, 10.8, 11.8, np.nan, np.nan, np.nan, np.nan],\n    'Exports':[6.2, 7.0, 8.7, 11.0, 12.0, 12.6, 14.3, 16.3, 17.2, 16.2, 14.8, 15.8, 15.3, 13.5, 12.65, 11.7, 12.6, 12.5, 10.5, np.nan, np.nan, np.nan, np.nan]\n}\n\ndf = pd.DataFrame(data)\nprint(df)\n","key":"TkTF3iONMN"},{"type":"output","id":"Zb9p9ERJe67IvhKc1Rn22","data":[],"key":"y6j8D9saeg"}],"key":"Bx78uRGcic"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"df.to_csv('Playfair_ImpExp_Eng_1786_final.csv', index=True)","key":"szTdSVwHM8"},{"type":"output","id":"zuEgsGYFH15MfiwQPvMMq","data":[],"key":"buKQmYKmML"}],"key":"OgL8aibSi0"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"import matplotlib.pyplot as plt\n\nplt.figure(figsize=(12, 6))\nplt.plot(df['Year'], df['Imports'], label='Imports', marker='o')\nplt.plot(df['Year'], df['Exports'], label='Exports', marker='o')\n\nplt.xlabel('Year')\nplt.ylabel('Value')\nplt.title('Imports and Exports Over Time')\nplt.xticks(rotation=45)\nplt.legend()\nplt.grid(True)\nplt.tight_layout()\nplt.show()","key":"o7tyRIcFMR"},{"type":"output","id":"3mtla6nfMbWqnqOqTzGvs","data":[],"key":"gFLsIe8UlB"}],"key":"KmlHuB03re"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"import matplotlib.pyplot as plt\n\n# Convert 'Year' to integers\ndf['Year'] = df['Year'].astype(int)\n\nplt.figure(figsize=(12, 6))\nplt.plot(df['Year'], df['Imports'], label='Imports', marker='o')\nplt.plot(df['Year'], df['Exports'], label='Exports', marker='o')\n\nplt.xlabel('Year')\nplt.ylabel('Value')\nplt.title('Imports and Exports Over Time')\nplt.legend()\nplt.grid(True)\nplt.tight_layout()\nplt.show()","key":"uxtp4I7hN3"},{"type":"output","id":"xbf3DHTLQf0Cts25Zfo47","data":[],"key":"oKj7gQOypE"}],"key":"ksDldlmx8O"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"# Convert Year to int\ndf['Year'] = df['Year'].astype(int)\n\n# Group by Year and average Imports and Exports for duplicates\ndf_agg = df.groupby('Year').mean().reset_index()\n\n# Plot aggregated data\nplt.figure(figsize=(12, 6))\nplt.plot(df_agg['Year'], df_agg['Imports'], label='Imports', marker='o')\nplt.plot(df_agg['Year'], df_agg['Exports'], label='Exports', marker='o')\n\nplt.xlabel('Year')\nplt.ylabel('Value')\nplt.title('Imports and Exports Over Time (Aggregated)')\nplt.legend()\nplt.grid(True)\nplt.tight_layout()\nplt.show()\n","key":"fGAJan2Axl"},{"type":"output","id":"1VjI6N8OxyTrlKYopUPcT","data":[],"key":"HFsMclZw2d"}],"key":"VpPZqaGGAQ"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"%matplotlib notebook\nimport matplotlib.pyplot as plt\nfrom matplotlib.animation import FuncAnimation\nimport numpy as np\n\nfig, ax = plt.subplots(figsize=(12, 6))\n\nx = df_agg['Year']\ny_imports = df_agg['Imports']\ny_exports = df_agg['Exports']\n\nline_imports, = ax.plot([], [], label='Imports', marker='o')\nline_exports, = ax.plot([], [], label='Exports', marker='o')\n\nax.set_xlim(min(x), max(x))\nax.set_ylim(min(min(y_imports), min(y_exports)) * 0.9, max(max(y_imports), max(y_exports)) * 1.1)\nax.set_xlabel('Year')\nax.set_ylabel('Value')\nax.set_title('Imports and Exports Over Time (Animated)')\nax.legend()\nax.grid(True)\n\ndef update(frame):\n    line_imports.set_data(x[:frame], y_imports[:frame])\n    line_exports.set_data(x[:frame], y_exports[:frame])\n    return line_imports, line_exports,\n\nani = FuncAnimation(fig, update, frames=len(x) + 1, interval=1000, blit=True, repeat=False)\n\nani\n\n","key":"Bb4Yan0k3g"},{"type":"output","id":"PnVX_D3WKPJa0eqRMxedC","data":[],"key":"n3J4xM1EGZ"}],"key":"GtEacEbt1e"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"plt.figure(figsize=(12, 6))\n\n# Plot Imports as yellow line\nplt.plot(df['Year'], df['Imports'], color='yellow', label='Imports', marker='o', linewidth=4)\n\n# Plot Exports as red line\nplt.plot(df['Year'], df['Exports'], color='#FF4C6D', label='Exports', marker='o', linewidth=4)\n\n# Fill the area between Imports and Exports lines with bright blue\nplt.fill_between(df['Year'], df['Imports'], df['Exports'], color='deepskyblue', alpha=0.2)\n\nplt.xlabel('Year')\nplt.ylabel('Millions of Pounds')\nplt.title('Chart of all the Imports and Exports to and from England From the Year 1700 to 1782 by W. Playfair')\nplt.legend()\nplt.grid(True)\nplt.tight_layout()\nplt.show()","key":"lJ1B9hFffY"},{"type":"output","id":"NjgNZwySFsGIh9KQsZJQx","data":[],"key":"eoWZUcTji3"}],"key":"sTAK7jxRap"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"plt.figure(figsize=(12, 6))\n\nplt.plot(df['Year'], df['Imports'], color='yellow', label='Imports', marker='o', linewidth=2)\nplt.plot(df['Year'], df['Exports'], color='#FF4C6D', label='Exports', marker='o', linewidth=2)\nplt.fill_between(df['Year'], df['Imports'], df['Exports'], color='deepskyblue', alpha=0.8)\n\nplt.xlabel('Year')\nplt.ylabel('Value')\nplt.title('Imports and Exports with Fine-Grained Lines between 1770 and 1782')\n\n# Set major ticks as usual (or with a wider interval)\nmajor_years = np.arange(df['Year'].min(), df['Year'].max() + 1, 10)\n\n# Set minor ticks for each year between 1770 and 1785\nminor_years = np.arange(1770, 1786)\n\nax = plt.gca()\nax.set_xticks(major_years)\nax.set_xticks(minor_years, minor=True)\n\n# Format major ticks with labels\nax.set_xticklabels(major_years, rotation=45)\n\n# Optionally, hide labels on minor ticks\nax.tick_params(axis='x', which='minor', length=5, color='grey')","key":"S2uvBVFAZX"},{"type":"output","id":"p4kuA50zpGv2w6WsGeOgG","data":[],"key":"JIPMiZAzmm"}],"key":"L7xh7SK9jt"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"plt.figure(figsize=(12, 6))\n\nplt.plot(df['Year'], df['Imports'], color='yellow', label='Imports', marker='o', linewidth=2)\nplt.plot(df['Year'], df['Exports'], color='#FF4C6D', label='Exports', marker='o', linewidth=2)\nplt.fill_between(df['Year'], df['Imports'], df['Exports'], color='deepskyblue', alpha=0.8)\n\nplt.xlabel('Year')\nplt.ylabel('Value')\nplt.title('Imports and Exports with Complete Grid Lines')\n\n# Set x-ticks at all data points (making sure all year values are present)\nax = plt.gca()\nax.set_xticks(df['Year'])\nax.set_xticklabels(df['Year'], rotation=45)\n\n# Enable grid lines on all x-tick positions\nax.grid(which='both', axis='x', linestyle='--', color='grey', alpha=0.5)\n\n# Enable grid lines on all y positions (treat y-axis similarly)\nax.grid(which='both', axis='y', linestyle='--', color='grey', alpha=0.5)\n\nplt.tight_layout()\nplt.legend()\nplt.show()","key":"PFb7UF7kEE"},{"type":"output","id":"HJQ7uRSayVVaiQ54HZ0aP","data":[],"key":"gufk9B49VT"}],"key":"NcMTBAmtlh"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"plt.figure(figsize=(12, 6))\n\nplt.plot(df['Year'], df['Imports'], color='yellow', label='Imports', marker='o', linewidth=2)\nplt.plot(df['Year'], df['Exports'], color='#FF4C6D', label='Exports', marker='o', linewidth=2)\nplt.fill_between(df['Year'], df['Imports'], df['Exports'], color='deepskyblue', alpha=0.8)\n\nplt.xlabel('Year')\nplt.ylabel('Value')\nplt.title('Imports and Exports with Detailed Grid and Selective Labels')\n\nax = plt.gca()\n\n# Set x-ticks at all data points (all years)\nax.set_xticks(df['Year'])\n\n# Create all labels as empty first\nlabels = ['' for _ in df['Year']]\n\n# Set labels only for specific years\nlabel_years = [1770, 1775, 1780, 1785]\nfor i, year in enumerate(df['Year']):\n    if year in label_years:\n        labels[i] = str(year)\n\nax.set_xticklabels(labels, rotation=45)\n\n# Enable grid lines at all ticks on x and y axis\nax.grid(which='both', axis='x', linestyle='--', color='grey', alpha=0.5)\nax.grid(which='both', axis='y', linestyle='--', color='grey', alpha=0.5)\n\nplt.tight_layout()\nplt.legend()\nplt.show()","key":"cIUEsOgoQz"},{"type":"output","id":"Sgpturriodbee3FREw3ej","data":[],"key":"qGz5rJiDo0"}],"key":"CFAsdH5EO4"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"plt.figure(figsize=(18, 9))\n\nplt.plot(df['Year'], df['Imports'], color='yellow', label='Imports', marker='o', linewidth=4)\nplt.plot(df['Year'], df['Exports'], color='#FF4C6D', label='Exports', marker='o', linewidth=4)\nplt.fill_between(df['Year'], df['Imports'], df['Exports'], color='deepskyblue', alpha=0.2)\n\nplt.xlabel('The Divisions at the bottom express YEARS & those o the Righthand MILLIONS of Pounds')\nplt.ylabel('Millions in Pounds')\nplt.title('Chart of all the Imports and Exports to and from England From the Year 1700 to 1782 by W. Playfair')\n\nax = plt.gca()\n\nyears = df['Year'].values\nlabels = []\n\n# Prepare labels: show all years from 1700 to 1770, then selective labels after 1770\nfor year in years:\n    if year <= 1770:\n        labels.append(str(year))\n    elif year in [1770, 1775, 1780, 1785]:\n        labels.append(str(year))\n    else:\n        labels.append('')  # Hide intermediate labels after 1770 except the selected ones\n\nax.set_xticks(years)\nax.set_xticklabels(labels, rotation=45)\n\n# Enable grid lines on all major ticks\nax.grid(which='both', axis='x', linestyle='--', color='grey', alpha=0.5)\nax.grid(which='both', axis='y', linestyle='--', color='grey', alpha=0.5)\n\nplt.tight_layout()\nplt.legend()\nplt.show()","key":"aOdPmgAmHb"},{"type":"output","id":"pktd5cZksYGNn8q7EpApt","data":[],"key":"VsQjwNhEnf"}],"key":"nbVkMwq7Hm"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"import matplotlib.pyplot as plt\n\nplt.figure(figsize=(18, 9))\n\nplt.plot(df['Year'], df['Imports'], color='yellow', label='Imports', marker='o', linewidth=4)\nplt.plot(df['Year'], df['Exports'], color='#FF4C6D', label='Exports', marker='o', linewidth=4)\nplt.fill_between(df['Year'], df['Imports'], df['Exports'], color='deepskyblue', alpha=0.2)\n\nplt.xlabel('The Divisions at the bottom express YEARS & those o the Righthand MILLIONS of Pounds')\nplt.ylabel('Millions in Pounds')\nplt.title('Chart of all the Imports and Exports to and from England From the Year 1700 to 1782 by W. Playfair')\n\nax = plt.gca()\n\nyears = df['Year'].values\nlabels = []\n\n# Prepare labels: show all years from 1700 to 1770, then selective labels after 1770\nfor year in years:\n    if year <= 1770:\n        labels.append(str(year))\n    elif year in [1770, 1775, 1780, 1785]:\n        labels.append(str(year))\n    else:\n        labels.append('')  # Hide intermediate labels after 1770 except the selected ones\n\nax.set_xticks(years)\nax.set_xticklabels(labels, rotation=45)\n\n# Enable grid lines on all major ticks\nax.grid(which='both', axis='x', linestyle='--', color='grey', alpha=0.5)\nax.grid(which='both', axis='y', linestyle='--', color='grey', alpha=0.5)\n\n# Move y-axis labels and ticks to right side\nax.yaxis.tick_right()\nax.yaxis.set_label_position(\"right\")\nax.yaxis.label.set_rotation(270)\nax.tick_params(axis='y', which='both', labelleft=False, labelright=True)\n\nplt.tight_layout()\nplt.legend()\nplt.show()","key":"nXU9OIFvLs"},{"type":"output","id":"RAXrwc4V1jU4kix5zhhyg","data":[],"key":"JAbG4Nomx4"}],"key":"DedkH4cg8g"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"import matplotlib.pyplot as plt\n\nplt.figure(figsize=(18, 9))\n\nplt.plot(df['Year'], df['Imports'], color='yellow', label='Imports', marker='o', linewidth=4)\nplt.plot(df['Year'], df['Exports'], color='#FF4C6D', label='Exports', marker='o', linewidth=4)\nplt.fill_between(df['Year'], df['Imports'], df['Exports'], color='deepskyblue', alpha=0.2)\n\nfont_family = 'Georgia'  # Change to your preferred font family\nlabel_fontsize = 20\ntick_fontsize = 14\n\nplt.xlabel('The Divisions at the bottom express YEARS & those on the Righthand MILLIONS of Pounds',\n           fontsize=label_fontsize, fontname=font_family)\nplt.ylabel('Millions in Pounds',\n           fontsize=label_fontsize, fontname=font_family)\nplt.title('Chart of all the Imports and Exports to and from England From the Year 1700 to 1782 by W. Playfair',\n          fontsize=18, fontname=font_family)\n\nax = plt.gca()\n\nyears = df['Year'].values\nlabels = []\n\n# Prepare labels: show all years from 1700 to 1770, then selective labels after 1770\nfor year in years:\n    if year <= 1770:\n        labels.append(str(year))\n    elif year in [1770, 1775, 1780, 1785]:\n        labels.append(str(year))\n    else:\n        labels.append('')  # Hide intermediate labels after 1770 except the selected ones\n\nax.set_xticks(years)\nax.set_xticklabels(labels, rotation=45, fontsize=tick_fontsize, fontname=font_family)\n\n# Enable grid lines on all major ticks\nax.grid(which='both', axis='x', linestyle='--', color='grey', alpha=0.5)\nax.grid(which='both', axis='y', linestyle='--', color='grey', alpha=0.5)\n\n# Move y-axis labels and ticks to right side\nax.yaxis.tick_right()\nax.yaxis.set_label_position(\"right\")\nax.yaxis.label.set_rotation(270)\nax.tick_params(axis='y', which='both', labelleft=False, labelright=True, labelsize=tick_fontsize)\n\n# Set y tick label font name\nfor tick in ax.yaxis.get_ticklabels():\n    tick.set_fontname(font_family)\n\nplt.tight_layout()\nplt.legend()\nplt.show()\n","key":"tSWvGG2fWv"},{"type":"output","id":"_r_qCjHPQnXHyTGligNYu","data":[],"key":"UmNTQ92uGP"}],"key":"pcdzl5TUW0"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"import matplotlib.pyplot as plt\n\nplt.figure(figsize=(18, 9))\n\nplt.plot(df['Year'], df['Imports'], color='yellow', label='Imports', marker='o', linewidth=4)\nplt.plot(df['Year'], df['Exports'], color='#FF4C6D', label='Exports', marker='o', linewidth=4)\nplt.fill_between(df['Year'], df['Imports'], df['Exports'], color='deepskyblue', alpha=0.2)\n\nfont_family = 'Georgia'  # Change to your preferred font family\nlabel_fontsize = 16\ntick_fontsize = 14\n\nplt.xlabel('The Divisions at the bottom express YEARS & those on the Righthand MILLIONS of Pounds',\n           fontsize=label_fontsize, fontname=font_family, labelpad=20)  # Increased padding here\nplt.ylabel('Millions in Pounds',\n           fontsize=label_fontsize, fontname=font_family, labelpad=30)  # Increased padding here\nplt.title('Chart of all the Imports and Exports to and from England From the Year 1700 to 1782 by W. Playfair',\n          fontsize=24, fontname=font_family)  # Larger title font size\n\nax = plt.gca()\n\nyears = df['Year'].values\nlabels = []\n\n# Prepare labels: show all years from 1700 to 1770, then selective labels after 1770\nfor year in years:\n    if year <= 1770:\n        labels.append(str(year))\n    elif year in [1770, 1775, 1780, 1785]:\n        labels.append(str(year))\n    else:\n        labels.append('')  # Hide intermediate labels after 1770 except the selected ones\n\nax.set_xticks(years)\nax.set_xticklabels(labels, rotation=45, fontsize=tick_fontsize, fontname=font_family)\n\n# Enable grid lines on all major ticks\nax.grid(which='both', axis='x', linestyle='--', color='grey', alpha=0.5)\nax.grid(which='both', axis='y', linestyle='--', color='grey', alpha=0.5)\n\n# Move y-axis labels and ticks to right side\nax.yaxis.tick_right()\nax.yaxis.set_label_position(\"right\")\nax.yaxis.label.set_rotation(270)\nax.tick_params(axis='y', which='both', labelleft=False, labelright=True, labelsize=tick_fontsize, pad=10)  # Increased tick padding\nax.tick_params(axis='x', which='both', labelsize=tick_fontsize, pad=10)  # Increased tick padding\n\n# Set y tick label font name\nfor tick in ax.yaxis.get_ticklabels():\n    tick.set_fontname(font_family)\n\nplt.tight_layout()\nplt.legend()\n\nplt.savefig('Playfair_ImpExp_Chart.png', dpi=300, bbox_inches='tight')  # Save the plot as a PNG file\n\nplt.show()\n","key":"GtxCneJ6Zs"},{"type":"output","id":"_Ie5qIxvRo9Sb1yvoSp09","data":[],"key":"XLJox1cyvq"}],"key":"HDzQ6Ag9lp"}],"key":"PFlMjQZvOy"},"references":{"cite":{"order":[],"data":{}}}}